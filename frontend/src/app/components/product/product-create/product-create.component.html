<mat-card class="container">

  <mat-card-title>
    Novo Produto    
  </mat-card-title>

  <div class="spinner" *ngIf="isLoading">
    <mat-spinner         
        class="spinner" 
        diameter="50" 
        strokeWidth="5"
      ></mat-spinner>
  </div>  

  <form (ngSubmit)="submit()" [formGroup]="formulario" *ngIf="isLoading === false">
    <mat-form-field appearance="outline">
      <input matInput 
        id="nome" 
        placeholder="Nome" 
        formControlName="nome" 
        [value]="produto?.nome"
        type="text" 
      >
      <mat-error *ngIf="f.nome.touched && nome.hasError('required')">
        Este campo é obrigatório
      </mat-error>
      <mat-error *ngIf="f.nome.touched && nome.hasError('minlength')">
        No minimo 3 caracteres
      </mat-error>
    </mat-form-field>    
    
    <mat-form-field appearance="outline">
      <input matInput 
        currencyMask 
        id="preco" 
        placeholder="Preço (R$)" 
        formControlName="preco" 
        [value]="produto?.preco"
        [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"
      >
      <mat-error *ngIf="f.preco.touched && preco.hasError('required')">
        Este campo é obrigatório
      </mat-error>
    </mat-form-field>
    
    <mat-form-field appearance="outline">
      <input matInput 
        id="categoria" 
        placeholder="Categoria" 
        formControlName="categoria" 
        [value]="produto?.categoria"
        type="text" 
      >
      <mat-error *ngIf="f.categoria.touched && categoria.hasError('required')">
        Este campo é obrigatório
      </mat-error>
    </mat-form-field>   

    <div>
      <button mat-raised-button type="submit" color="primary" [disabled]="!formulario.valid">
        Salvar
      </button>
      <button mat-raised-button (click)="cancel()">
        Cancelar
      </button>
    </div>
  </form> 
  
</mat-card>